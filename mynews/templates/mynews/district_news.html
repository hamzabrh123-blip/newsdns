{% extends 'mynews/base.html' %}
{% load static %}

{% block title %} {{ district|default:"Latest" }} News | Uttar World {% endblock %}

{% block content %}
<div class="container mt-4">
    <div class="row">
        <div class="col-lg-8 col-md-8">
            
            <div class="district-header mb-4 p-3 bg-white shadow-sm rounded-3 border-start border-4 border-danger">
                <div class="d-flex align-items-center justify-content-between flex-wrap">
                    <h2 class="fw-bold mb-0 main-title h4 text-uppercase">
                        <i class="fas fa-map-marked-alt text-danger me-2"></i>{{ district }} न्यूज़
                    </h2>
                    <div class="live-pulse-container d-flex align-items-center">
                        <span class="pulse-dot"></span>
                        <span class="ms-2 small fw-bold text-danger">LIVE UPDATES</span>
                    </div>
                </div>
            </div>

            <div class="row">
                {% for item in page_obj %}
                    {% include "mynews/partials/_grid_card.html" %}
                {% empty %}
                    <div class="col-12 text-center py-5 no-news-box bg-white shadow-sm rounded-4 border-0">
                        <img src="https://cdn-icons-png.flaticon.com/512/6108/6108830.png" style="width: 80px; opacity: 0.3;" class="mb-3">
                        <h5 class="text-muted fw-bold">No News Found!</h5>
                        <p class="text-secondary small">{{ district }} के लिए अभी कोई खबर उपलब्ध नहीं है।</p>
                        <a href="/" class="btn btn-danger btn-sm rounded-pill px-4 shadow-sm">Explore Home</a>
                    </div>
                {% endfor %}
            </div>

            {% include "mynews/partials/_pagination.html" %}

        </div>

        <div class="col-lg-4 col-md-4">
            <div class="sticky-sidebar">
                {% include 'mynews/sidebar.html' %}
            </div>
        </div>
    </div>
</div>

<style>
    /* Sirf is page ke specific styles yahan rakho, 
       baaki cards ke style partial file mein daal do */
    .sticky-sidebar { position: sticky; top: 90px; z-index: 10; }
    .pulse-dot {
        width: 8px; height: 8px; background: #dc3545; border-radius: 50%;
        animation: pulse 1.5s infinite;
    }
    @keyframes pulse {
        0% { transform: scale(0.95); box-shadow: 0 0 0 0 rgba(220, 53, 69, 0.7); }
        70% { transform: scale(1); box-shadow: 0 0 0 8px rgba(220, 53, 69, 0); }
        100% { transform: scale(0.95); box-shadow: 0 0 0 0 rgba(220, 53, 69, 0); }
    }
</style>
{% endblock %}
