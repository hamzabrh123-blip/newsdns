<aside class="sidebar-professional shadow-sm bg-white p-3 rounded-3">
    
    <div class="mb-4 text-center border-bottom pb-3">
        <script async src="https://js.onclckmn.com/static/onclicka.js" data-admpid="416535"></script>
    </div>

    {% if world_sidebar %}
    <div class="sidebar-block mb-4">
        <h5 class="sidebar-heading text-dark border-start border-4 border-danger ps-2">
            <i class="fas fa-globe-americas text-danger me-2"></i>दुनिया (World)
        </h5>
        {% for item in world_sidebar %}
        <div class="sidebar-post">
            <img src="{% if item.image_url %}{{ item.image_url }}{% elif item.image %}{{ item.image.url }}{% else %}/static/logo.png{% endif %}" 
                 alt="{{ item.title }}" class="sidebar-thumb" onerror="this.src='/static/logo.png';">
            <a href="{% url 'news_detail' item.url_city|default:'news' item.slug %}" class="post-link">{{ item.title|truncatechars:50 }}</a>
        </div>
        {% endfor %}
        <a href="/Int-MiddleEast/" class="view-link text-danger">World की खबरें देखें →</a>
    </div>
    {% endif %}

    {% if up_sidebar %}
    <div class="sidebar-block mb-4">
        <h5 class="sidebar-heading text-dark border-start border-4 border-primary ps-2">
            <i class="fas fa-map-marker-alt text-primary me-2"></i>उत्तर प्रदेश (UP News)
        </h5>
        {% for item in up_sidebar %}
        <div class="sidebar-post">
            <img src="{% if item.image_url %}{{ item.image_url }}{% elif item.image %}{{ item.image.url }}{% else %}/static/logo.png{% endif %}" 
                 alt="{{ item.title }}" class="sidebar-thumb" onerror="this.src='/static/logo.png';">
            <a href="{% url 'news_detail' item.url_city|default:'news' item.slug %}" class="post-link text-dark">{{ item.title|truncatechars:50 }}</a>
        </div>
        {% endfor %}
        <a href="/UP-News/" class="view-link text-primary">पूरा उत्तर प्रदेश देखें →</a>
    </div>
    {% endif %}

    {% if bazaar_sidebar %}
    <div class="sidebar-block mb-4 bg-light p-3 rounded-2 shadow-sm border-top border-3 border-danger">
        <h5 class="sidebar-heading text-danger">
            <i class="fas fa-chart-line me-2"></i>बाज़ार (Market)
        </h5>
        {% for item in bazaar_sidebar %}
        <div class="sidebar-post border-bottom py-2">
            <a href="{% url 'news_detail' item.url_city|default:'news' item.slug %}" class="post-link fw-bold" style="font-size: 0.85rem;">
                <i class="fas fa-caret-right text-danger me-1"></i> {{ item.title|truncatechars:60 }}
            </a>
        </div>
        {% endfor %}
        <div class="text-end mt-2">
            <a href="/Market/" class="view-link text-danger fw-bold">ताज़ा भाव →</a>
        </div>
    </div>
    {% endif %}

    {% if sports_sidebar %}
    <div class="sidebar-block mb-4">
        <h5 class="sidebar-heading text-dark border-start border-4 border-success ps-2">
            <i class="fas fa-trophy text-success me-2"></i>खेल जगत (Sports)
        </h5>
        {% for item in sports_sidebar %}
        <div class="sidebar-post">
            <img src="{% if item.image_url %}{{ item.image_url }}{% elif item.image %}{{ item.image.url }}{% else %}/static/logo.png{% endif %}" 
                 alt="{{ item.title }}" class="sidebar-thumb" onerror="this.src='/static/logo.png';">
            <a href="{% url 'news_detail' item.url_city|default:'news' item.slug %}" class="post-link">{{ item.title|truncatechars:50 }}</a>
        </div>
        {% endfor %}
        <a href="/Sports/" class="view-link text-success">सभी खेल समाचार →</a>
    </div>
    {% endif %}

</aside>

<style>
    .sidebar-professional {
        position: sticky;
        top: 100px;
        border: 1px solid #f0f0f0;
    }
    .sidebar-heading {
        font-size: 1.05rem;
        font-weight: 800;
        margin-bottom: 15px;
        letter-spacing: -0.5px;
    }
    .sidebar-post {
        display: flex;
        align-items: center;
        gap: 12px;
        margin-bottom: 12px;
        transition: 0.3s;
    }
    .sidebar-thumb {
        width: 65px;
        height: 45px;
        object-fit: cover;
        border-radius: 6px;
        flex-shrink: 0;
        background: #eee;
        border: 1px solid #eee;
    }
    .post-link {
        text-decoration: none;
        color: #333;
        font-size: 0.88rem;
        font-weight: 600;
        line-height: 1.3;
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
        transition: 0.2s;
    }
    .post-link:hover { 
        color: #d32f2f !important; 
        text-decoration: none;
    }
    .view-link {
        font-size: 0.75rem;
        font-weight: 800;
        text-decoration: none;
        text-transform: uppercase;
        display: block;
        margin-top: 8px;
        letter-spacing: 0.5px;
    }
    .view-link:hover {
        text-decoration: underline;
    }
</style>
